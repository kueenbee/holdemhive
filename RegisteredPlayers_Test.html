<!DOCTYPE html>
	<html lang="en">
	<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Registered Players – Hold ’Em Hive Tournament Poker League Rochester NY</title>
	<meta name="description" content="Texas Hold Em Poker League Info, Kueen$Bees">
	<link rel="stylesheet" href="styles.css">
	</head>
	<body>
	<header>
	<h1><img width=192px alt="poker table and poker clock" src="images/Kueen$BeesPokerPatch.png"></h1>
	</header>
	<main>
	<div class="container">
	<div class="grid">
	<div class="grid-item">
	<h2>Next Game (S13 G5): January 29th, 2025, LIVE @ the Hive, @6:45 PM </h2>
	<h3>Registered Players</h3>
	<br>
	<!-- Auto-generated registered players list -->
	<ol id="player-list"></ol>
	<p id="open-seats" style="text-align:center;"></p>
<p align="center"> <a href="LeagueDetails.html">More Details</a> &nbsp &nbsp <a href="Standings.html"> Season Standings</a> &nbsp &nbsp<a href="https://www.holdemhive.com">Home</a></p>
	</div>
	</div>
	</div>
	</main>
		<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C1LX3R24E8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C1LX3R24E8');
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6262689345554860" crossorigin="anonymous"></script>
	
	<script>
	(async function () {
	  // TODO: Replace with your published Google Sheets CSV URL (Publish to web -> Public_Seated -> CSV)
	  const CSV_URL = "PASTE_PUBLIC_SEATED_CSV_URL_HERE";
	  const MAX_SEATS = 20;

	  // Always pinned at the top (exact spelling)
	  const PINNED = ["Kay C", "Beth W"];

	  const openSeatsEl = document.getElementById("open-seats");
	  const listEl = document.getElementById("player-list");

	  function setError(msg) {
	    if (openSeatsEl) openSeatsEl.textContent = msg;
	  }

	  function parseFirstCsvColumn(csvText) {
	    // Robust-enough CSV parsing for first column, supports quoted fields with commas.
	    const lines = csvText.replace(/\r/g, "").split("\n").filter(l => l.trim().length > 0);
	    if (lines.length <= 1) return [];
	    const out = [];
	    for (let i = 1; i < lines.length; i++) { // skip header
	      const line = lines[i];
	      let j = 0, inQuotes = false, field = "";
	      while (j < line.length) {
	        const ch = line[j];
	        if (ch === '"') {
	          if (inQuotes && line[j+1] === '"') { field += '"'; j += 2; continue; }
	          inQuotes = !inQuotes; j++; continue;
	        }
	        if (!inQuotes && ch === ',') break;
	        field += ch; j++;
	      }
	      const name = field.trim();
	      if (name) out.push(name);
	    }
	    return out;
	  }

	  try {
	    if (!CSV_URL || CSV_URL.includes("PASTE_PUBLIC_SEATED_CSV_URL_HERE")) {
	      setError("CSV URL not set yet.");
	      return;
	    }

	    // Cache-bust to avoid stale lists
	    const url = CSV_URL + (CSV_URL.includes("?") ? "&" : "?") + "t=" + Date.now();

	    const res = await fetch(url, { cache: "no-store" });
	    if (!res.ok) {
	      setError("Could not load registrations.");
	      return;
	    }

	    const text = await res.text();

	    const fetchedNames = parseFirstCsvColumn(text)
	      .map(s => s.replace(/^"|"$/g, "").trim())
	      .filter(Boolean);

	    // Pinned first, then everyone else (no duplicates)
	    const pinnedSet = new Set(PINNED);
	    const seen = new Set();
	    const ordered = [];

	    for (const p of PINNED) {
	      if (p && !seen.has(p)) { ordered.push(p); seen.add(p); }
	    }
	    for (const n of fetchedNames) {
	      if (!pinnedSet.has(n) && !seen.has(n)) { ordered.push(n); seen.add(n); }
	    }

	    // Render list with blanks up to MAX_SEATS
	    if (listEl) {
	      listEl.innerHTML = "";
	      for (let i = 0; i < MAX_SEATS; i++) {
	        const li = document.createElement("li");
	        if (i < ordered.length) li.textContent = ordered[i];
	        else li.innerHTML = "<br>";
	        listEl.appendChild(li);
	      }
	    }

	    const open = Math.max(0, MAX_SEATS - ordered.length);
	    if (openSeatsEl) {
	      openSeatsEl.textContent = open === 0
	        ? "Game is full (waitlist active)."
	        : `${open} open seat${open === 1 ? "" : "s"}.`;
	    }
	  } catch (e) {
	    setError("Could not load registrations.");
	  }
	})();
	</script>

</body>
	</html>
	































































































































































































